{% extends "admin/base_site.html" %}
{% load i18n dashboard_tags %}

{% block breadcrumbs %}{% endblock %}

{% block content %}
<div class="container-fluid py-4">
  <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-3 mb-4">
    <div>
      <h1 class="display-6 mb-1">Tableau de bord</h1>
      <p class="text-muted mb-0">Vue d'ensemble des indicateurs clÃ©s pour le suivi des stages.</p>
    </div>
  </div>
  {% dashboard_kpis as kpis %}
  <div class="dashboard-grid">
    <div class="dashboard-card">
      <span class="dashboard-card__label">Offres actives</span>
      <p class="dashboard-card__value mb-0">{{ kpis.active_offers }}</p>
      <span class="dashboard-card__trend">
        <span class="dashboard-card__trend-icon">ğŸ“¢</span>
        Offres publiÃ©es et en cours
      </span>
    </div>
    <div class="dashboard-card">
      <span class="dashboard-card__label">Affectations en cours</span>
      <p class="dashboard-card__value mb-0">{{ kpis.ongoing_assignments }}</p>
      <span class="dashboard-card__trend">
        <span class="dashboard-card__trend-icon">ğŸ§­</span>
        Stages validÃ©s ou dÃ©marrÃ©s
      </span>
    </div>
    <div class="dashboard-card dashboard-card--alert">
      <span class="dashboard-card__label">Livrables en retard</span>
      <p class="dashboard-card__value mb-0">{{ kpis.late_deliverables }}</p>
      <span class="dashboard-card__trend">
        <span class="dashboard-card__trend-icon">â°</span>
        Ã€ relancer rapidement
      </span>
    </div>
    <div class="dashboard-card">
      <span class="dashboard-card__label">Taux de placement</span>
      <p class="dashboard-card__value mb-0">{{ kpis.placement_rate }}<small class="fs-4">%</small></p>
      <span class="dashboard-card__trend">
        <span class="dashboard-card__trend-icon">ğŸ¯</span>
        Ã‰tudiants placÃ©s / total Ã©tudiants
      </span>
    </div>
  </div>
</div>
{% endblock %}

